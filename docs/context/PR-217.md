# PR #217 â€” Diff Summary

- **Base (target)**: `c2cde06cab4e8c04cf533dc47937feb7c8860c42`
- **Head (source)**: `c67b03d33770e1e3f6fe6efa22140c46c7f98faf`
- **Repo**: `girafeev1/ArtifactoftheEstablisher`

## Changed Files

```txt
M	docs/Task Log.md
A	prompts/tasklog-update-after-p025.md
```

## Stats

```txt
 docs/Task Log.md                     | 20 +++++++-----
 prompts/tasklog-update-after-p025.md | 61 ++++++++++++++++++++++++++++++++++++
 2 files changed, 74 insertions(+), 7 deletions(-)
```

## Unified Diff (truncated to first 4000 lines)

```diff
diff --git a/docs/Task Log.md b/docs/Task Log.md
index 0748716..35c58a1 100644
--- a/docs/Task Log.md	
+++ b/docs/Task Log.md	
@@ -20,6 +20,10 @@ Latest change summary
 - Replaced dayjs timezone dependency with built-in plugin to fix install failures.
 - Queue P-021: loading UX cleanup, due parity, vouchers default, payment blink, base-rate history editing, min-width v3, calendar scan fixes.
 - Queued P-022 to complete P-021 acceptance (payment blink hookup, base-rate info relocation), add scan status/logs, and tidy labels.
+- Payment History: headers finalized (Method, Entity, Bank Account, Reference #); two-column detail shows identifier & reference with safe fallbacks.
+- Payment Detail: â€œFor Session(s)â€ truncation with View all/Hide; inline edit when empty for metadata; added tests & helpers.
+- Sticky footer scaffolding present; Back must be anchored inside footer (queued for P-026).
+- Remaining blink polish & session assignment table robustness queued for P-026.
 
 Tasks T-xxx
 ### T-080
@@ -58,7 +62,7 @@ Tasks table â€” add/update:
 |-------|------------------------------------------------------|-------|---------------|
 | T-072 | Header ellipsis & width decouple (header no longer blocks narrow columns)                     | ğŸ§­    | Table headers CSS + autosize guard |
 | T-073 | Payment History â€œFor Session(s)â€ max 5 then â€œâ€¦â€                                                | ğŸ§­    | PaymentHistory formatter; detail-only; list pending |
-| T-074 | Sticky dialog footer (window bottom, not scroller)                                            | â³    | Back button still attached to scroller; move into footer in P-025. |
+| T-074 | Sticky dialog footer (window bottom, not scroller)                                            | â³    | Back lives in scroller; move into footer in P-026. |
 | T-075 | Add Payment: Method/Entity/Bank/Account/RefNumber fields + writes (timestamp, editedBy)       | ğŸ§­    | PaymentModal, writes, types |
 | T-076 | ERL directory integration (read banks+accounts from `erl-directory`; graceful fallback)       | ğŸ§­    | lib/erlDirectory.ts, firebase init |
 | T-077 | Payment list: rename columns; add Method & Entity                                             | âœ…    | PaymentHistory.tsx (Method, Entity, Bank Account, Reference #) |
@@ -137,10 +141,11 @@ Tasks table â€” add/update:
 | T-023 | Replace slow-blink placeholders with Skeletons | ğŸ§­    | Card metrics |
 | T-024 | Make scrollbar-in-footer consistent across all tables | ğŸ§ª    | Quick sweep |
 | T-080 | StudentDialog Back button inside sticky footer                | â³    | Move Back into footer bar; ensure body has bottom padding |
-| T-081 | Payment Detail blink logic: only Remaining blinks             | â³    | Payment Amount static; Remaining uses blink class only |
-| T-082 | Payment Detail: restore session assignment list & flow        | â³    | Keep assignable list visible; selection updates Remaining; persist |
-| T-083 | Payment Detail inline editing (Method/Entity/Identifier/Ref) | â³    | Editable when empty; read-only after set; normalize identifier |
-| T-084 | Base Rate History: inline edit `effectiveDate` when empty     | â³    | Editable when missing; read-only after set |
+| T-081 | Payment Detail blink logic: only Remaining blinks             | â³    | Remove duplicate span; Payment Amount static |
+| T-082 | Payment Detail: session assignment visible & robust           | â³    | Zero-state; selection updates Remaining; persist |
+| T-083 | Add Payment dialog cascade (Method/Entity/Bank/Account/Ref)   | â³    | ERL banksâ†’accounts; identifier build; audit fields |
+| T-084 | Payment History: For Session(s) shows â‰¤5 then â€¦ (list view)   | â³    | Detail already truncates; list column to match |
+| T-085 | Column header width decouple (narrow even when header long)   | â³    | th ellipsis; table-layout fixed; cell widths OK |
 
 ---
 
@@ -148,7 +153,7 @@ Prompts table â€” update:
 
 | ID    | Title                                                | State | Notes |
 |-------|------------------------------------------------------|-------|-------|
-| P-025 | Fix Payment Detail/History UX, restore assignment, inline editing | ğŸ§­    | See prompts/p-025.md |
+| P-025 | Fix Payment Detail/History UX, restore assignment, inline editing | âœ…    | See prompts/p-025.md |
 | P-024 | Payment UI polish & data rules | âœ…    | See prompts/p-024.md |
 | P-023 | Payments metadata & UI polish (headers, â€œFor Session(s)â€, sticky footer, ERL dir)     | ğŸ§­    | See prompts/P-023.md |
 | P-021 | Loading UX, due parity, vouchers default, payment blink, base-rate UX/edit, min-width v3, calendar scan reliability | ğŸ§­ | See prompts/P-021.md |
@@ -162,7 +167,8 @@ Prompts table â€” update:
 | P-012 | Resizable tables + sticky # + blink polish           | âœ…    | Shipped |
 | P-014 | Session totals revert, auto-size, due unification, dialog audit, base-rate history | âœ…    | This change |
 | P-022 | Finish P-021 acceptance: payment blink hookup, base-rate icon move, scan status/logs, label tidy | ğŸ§­    | See prompts/P-022.md |
-| P-025 | Fix sticky Back button; blink logic; session assignment; inline editing in Payment Detail & Base Rate History; remove `docs/task-log-vol-1.md`. | ğŸ§­ | See prompts/p-025.md |
+| P-025 | Fix sticky Back button; blink logic; session assignment; inline editing in Payment Detail & Base Rate History; remove `docs/task-log-vol-1.md`. | âœ… | See prompts/p-025.md |
+| P-026 | Sticky Back footer, blink polish, session assignment robustness, Add Payment cascade, history truncation, header width decouple | ğŸ§­ | See prompts/p-026.md |
 
 
 ### Changes â€” P-015
diff --git a/prompts/tasklog-update-after-p025.md b/prompts/tasklog-update-after-p025.md
new file mode 100644
index 0000000..fcfa8c3
--- /dev/null
+++ b/prompts/tasklog-update-after-p025.md
@@ -0,0 +1,61 @@
+Update Task Log based on P-024 & P-025, and queue P-026
+
+Save this prompt at: prompts/tasklog-update-after-p025.md
+Branch: codex/docs-task-log-update-after-p025
+PR title: docs(task-log): reflect P-024/P-025 outcomes; queue P-026
+Labels: docs, codex
+
+Context (facts to reflect)
+
+P-024 & P-025 merged with substantial Payment UI work; PR #214â€™s Context Bundle shows the changed files and that both prompts/p-024.md and prompts/p-025.md are present; docs/Task Log.md was updated there. Ensure the canonical log remains docs/Task Log.md (no docs/task-log-vol-1.md).
+
+What to change in docs/Task Log.md
+
+Latest change summary â€” add new bullets (append-only, keep existing bullets):
+
+Payment History: headers finalized (Method, Entity, Bank Account, Reference #); two-column detail shows identifier & reference with safe fallbacks. 
+
+Payment Detail: â€œFor Session(s)â€ truncation with View all/Hide; inline edit when empty for metadata; added tests & helpers. 
+
+Sticky footer scaffolding present; Back must be anchored inside footer (queued for P-026).
+
+Remaining blink polish & session assignment table robustness queued for P-026.
+
+Tasks table â€” add/update
+
+Mark complete (âœ…) any rows that P-024/P-025 actually delivered (e.g., history columns / detail fields), keep sticky footer as â³ with a note (â€œBack lives in scroller; move into footer in P-026â€), and leave history â€œFor Session(s)â€ column truncation as ğŸ§­ if still pending in list view.
+
+Add new P-026 follow-ups at the end with next T-IDs:
+
+| T-<next>   | StudentDialog Back button inside sticky footer                | â³ | Move Back into footer bar; body gets bottom padding |
+| T-<next+1> | Payment Detail blink logic: only Remaining blinks             | â³ | Remove duplicate span; Payment Amount static |
+| T-<next+2> | Payment Detail: session assignment visible & robust           | â³ | Zero-state; selection updates Remaining; persist |
+| T-<next+3> | Add Payment dialog cascade (Method/Entity/Bank/Account/Ref)   | â³ | ERL banksâ†’accounts; identifier build; audit fields |
+| T-<next+4> | Payment History: For Session(s) shows â‰¤5 then â€¦ (list view)   | â³ | Detail already truncates; list column to match |
+| T-<next+5> | Column header width decouple (narrow even when header long)   | â³ | th ellipsis; table-layout fixed; cell widths OK |
+
+Prompts table â€” update
+
+Keep P-024 and P-025 linked to prompts/p-024.md / prompts/p-025.md. 
+
+Add P-026 as ğŸ§­ (planned) linked to prompts/p-026.md with the summary from this prompt.
+
+Formatting rules
+
+Preserve section headings/casing: â€œTask Logâ€, â€œLatest change summaryâ€, â€œTasks table â€” add/update:â€, â€œPrompts table â€” update:â€.
+
+Append-only; donâ€™t rewrite earlier entries.
+
+Ensure docs/task-log-vol-1.md does not exist (delete if present).
+
+Commit plan
+
+docs(task-log): add P-024/P-025 bullets; mark completed; queue P-026 tasks
+
+docs: ensure only docs/Task Log.md is used (remove stray task-log-vol-1.md if present)
+
+Acceptance
+
+docs/Task Log.md updated with the bullets above, statuses adjusted, and P-026 queued.
+
+No other docs or workflows touched.
```
