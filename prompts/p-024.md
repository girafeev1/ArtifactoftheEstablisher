# P-024 — Payment UI polish & data rules (post P-023)

## Save path
prompts/p-024.md

## Branch & PR
- Branch: codex/feat-payment-ui-polish-p024
- PR title: feat(payment): finalize history columns, truncate session list, sticky footer scaffolding, identifier rule (P-024)
- Labels: payments, ui, codex

## Goals
1) Payment History: headers/columns finalized  
2) Payment Detail: “For Session(s)” truncation with expand  
3) Sticky footer scaffolding for StudentDialog  
4) Enforce identifier = "{bankCode}/{accountDocId}" on write + display  
5) Minimal unit + e2e tests

## Implement
A) **Payment History headers/columns**
- Columns = Date, Amount (currency), Method (NEW), Entity (NEW), Bank Account (identifier), Reference #.
- Headers ellipsize; cells responsive.

B) **Payment Detail truncation**
- Show ≤5 sessions inline, then “(+N more)” with View all/Hide.

C) **Sticky footer scaffolding**
- Add footer container intended to be sticky (full stickiness finished in later prompt).

D) **Identifier rule**
- On create/update: if identifier missing or not matching `/^[0-9A-Za-z]+\/[0-9A-Za-z_-]+$/`, set to `${bankCode}/${accountDocId}` when both parts exist.
- Display identifier in list & detail; fallback “—”.

E) **Robustness**
- For method/entity/identifier/refNumber: render “—” when empty.

## Tests
- Unit: `buildIdentifier`, `truncateList`.
- E2E (can be skipped in CI): verify headers, truncation, and identifier display.

## Acceptance
- Columns present as above; truncation works; sticky footer scaffolding added; identifier enforced/displays; tests included. 
